instances:
    - "time"
    - "value"
action_types:
    ROSAction: "rpn_ros_interface.action.ROSAtomicAction"
    KBAction: "pnp_actions.kb_action.KBAction"
actions:
    dummy_server:
        params:
            - "value"
        #negative_preconditions:
            #- Exists: ["time"]
        positive_effects:
            - Comparison: ["eq", ["time", "value"]]
    wait:
        params:
            - "time"
        positive_preconditions:
            - Exists: ["time"]

initial_knowledge:
    value: 5
plan:
    - while: 
        condition: {Comparison: ["gt", ["value", 2]]}
        actions:
        - ROSAction:
            arguments:
                name: "dummy_server"
        - KBAction:
            arguments:
                name: "kb_op"
                params:
                    operation: {Operation: ["sub", ["value", 1]]}
                    result: "value"
    - concurrent_actions:
        - ROSAction:
            arguments:
                name: "wait"
        - ROSAction:
            arguments:
                name: "wait"
        - concurrent_actions:
            - ROSAction:
                arguments:
                    name: "wait"
                    params: 
                        time: 5
            - ROSAction:
                arguments:
                    name: "wait"
                    params: 
                        time: 6

